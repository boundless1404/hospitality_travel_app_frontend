import{m as Y,i as M,P,c as f,h as C,n as B,U as J,W as G,g as W,p as Z,af as w,M as ee,an as te,a5 as T,ao as N,ag as I,a3 as $,a6 as E,r as Q,w as ne,N as ie,J as re,ap as oe,aq as ae}from"./index.2539991c.js";import{c as ue}from"./selection.ffdb9648.js";var me=Y({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:n}){const{proxy:{$q:o}}=W(),a=M(J,P);if(a===P)return console.error("QPage needs to be a deep child of QLayout"),P;if(M(G,P)===P)return console.error("QPage needs to be child of QPageContainer"),P;const t=f(()=>{const u=(a.header.space===!0?a.header.size:0)+(a.footer.space===!0?a.footer.size:0);if(typeof e.styleFn=="function"){const p=a.isContainer.value===!0?a.containerHeight.value:o.screen.height;return e.styleFn(u,p)}return{minHeight:a.isContainer.value===!0?a.containerHeight.value-u+"px":o.screen.height===0?u!==0?`calc(100vh - ${u}px)`:"100vh":o.screen.height-u+"px"}}),r=f(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>C("main",{class:r.value,style:t.value},B(n.default))}});const z={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},se=Object.keys(z);z.all=!0;function K(e){const n={};for(const o of se)e[o]===!0&&(n[o]=!0);return Object.keys(n).length===0?z:(n.horizontal===!0?n.left=n.right=!0:n.left===!0&&n.right===!0&&(n.horizontal=!0),n.vertical===!0?n.up=n.down=!0:n.up===!0&&n.down===!0&&(n.vertical=!0),n.horizontal===!0&&n.vertical===!0&&(n.all=!0),n)}const le=["INPUT","TEXTAREA"];function O(e,n){return n.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof n.handler=="function"&&le.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(n.uid)===-1)}function ce(e){const n=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((o,a)=>{const l=parseFloat(o);l&&(n[a]=l)}),n}var de=Z({name:"touch-swipe",beforeMount(e,{value:n,arg:o,modifiers:a}){if(a.mouse!==!0&&w.has.touch!==!0)return;const l=a.mouseCapture===!0?"Capture":"",t={handler:n,sensitivity:ce(o),direction:K(a),noop:ee,mouseStart(r){O(r,t)&&te(r)&&(T(t,"temp",[[document,"mousemove","move",`notPassive${l}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(r,!0))},touchStart(r){if(O(r,t)){const u=r.target;T(t,"temp",[[u,"touchmove","move","notPassiveCapture"],[u,"touchcancel","end","notPassiveCapture"],[u,"touchend","end","notPassiveCapture"]]),t.start(r)}},start(r,u){w.is.firefox===!0&&N(e,!0);const p=I(r);t.event={x:p.left,y:p.top,time:Date.now(),mouse:u===!0,dir:!1}},move(r){if(t.event===void 0)return;if(t.event.dir!==!1){$(r);return}const u=Date.now()-t.event.time;if(u===0)return;const p=I(r),h=p.left-t.event.x,d=Math.abs(h),g=p.top-t.event.y,c=Math.abs(g);if(t.event.mouse!==!0){if(d<t.sensitivity[1]&&c<t.sensitivity[1]){t.end(r);return}}else if(window.getSelection().toString()!==""){t.end(r);return}else if(d<t.sensitivity[2]&&c<t.sensitivity[2])return;const m=d/u,y=c/u;t.direction.vertical===!0&&d<c&&d<100&&y>t.sensitivity[0]&&(t.event.dir=g<0?"up":"down"),t.direction.horizontal===!0&&d>c&&c<100&&m>t.sensitivity[0]&&(t.event.dir=h<0?"left":"right"),t.direction.up===!0&&d<c&&g<0&&d<100&&y>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&d<c&&g>0&&d<100&&y>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&d>c&&h<0&&c<100&&m>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&d>c&&h>0&&c<100&&m>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?($(r),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),ue(),t.styleCleanup=A=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const x=()=>{document.body.classList.remove("no-pointer-events--children")};A===!0?setTimeout(x,50):x()}),t.handler({evt:r,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:u,distance:{x:d,y:c}})):t.end(r)},end(r){t.event!==void 0&&(E(t,"temp"),w.is.firefox===!0&&N(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(!0),r!==void 0&&t.event.dir!==!1&&$(r),t.event=void 0)}};if(e.__qtouchswipe=t,a.mouse===!0){const r=a.mouseCapture===!0||a.mousecapture===!0?"Capture":"";T(t,"main",[[e,"mousedown","mouseStart",`passive${r}`]])}w.has.touch===!0&&T(t,"main",[[e,"touchstart","touchStart",`passive${a.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const o=e.__qtouchswipe;o!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&o.end(),o.handler=n.value),o.direction=K(n.modifiers))},beforeUnmount(e){const n=e.__qtouchswipe;n!==void 0&&(E(n,"main"),E(n,"temp"),w.is.firefox===!0&&N(e,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete e.__qtouchswipe)}});function pe(){const e=new Map;return{getCache:function(n,o){return e[n]===void 0?e[n]=o:e[n]},getCacheWithFn:function(n,o){return e[n]===void 0?e[n]=o():e[n]}}}const he={name:{required:!0},disable:Boolean},U={setup(e,{slots:n}){return()=>C("div",{class:"q-panel scroll",role:"tabpanel"},B(n.default))}},ge={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},ye=["update:modelValue","beforeTransition","transition"];function Pe(){const{props:e,emit:n,proxy:o}=W(),{getCacheWithFn:a}=pe();let l,t;const r=Q(null),u=Q(null);function p(i){const s=e.vertical===!0?"up":"left";b((o.$q.lang.rtl===!0?-1:1)*(i.direction===s?1:-1))}const h=f(()=>[[de,p,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),d=f(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),g=f(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),c=f(()=>`--q-transition-duration: ${e.transitionDuration}ms`),m=f(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),y=f(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),A=f(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);ne(()=>e.modelValue,(i,s)=>{const v=q(i)===!0?k(i):-1;t!==!0&&D(v===-1?0:v<k(s)?-1:1),r.value!==v&&(r.value=v,n("beforeTransition",i,s),ie(()=>{n("transition",i,s)}))});function x(){b(1)}function V(){b(-1)}function _(i){n("update:modelValue",i)}function q(i){return i!=null&&i!==""}function k(i){return l.findIndex(s=>s.props.name===i&&s.props.disable!==""&&s.props.disable!==!0)}function j(){return l.filter(i=>i.props.disable!==""&&i.props.disable!==!0)}function D(i){const s=i!==0&&e.animated===!0&&r.value!==-1?"q-transition--"+(i===-1?d.value:g.value):null;u.value!==s&&(u.value=s)}function b(i,s=r.value){let v=s+i;for(;v>-1&&v<l.length;){const S=l[v];if(S!==void 0&&S.props.disable!==""&&S.props.disable!==!0){D(i),t=!0,n("update:modelValue",S.props.name),setTimeout(()=>{t=!1});return}v+=i}e.infinite===!0&&l.length!==0&&s!==-1&&s!==l.length&&b(i,i===-1?l.length:-1)}function F(){const i=k(e.modelValue);return r.value!==i&&(r.value=i),!0}function L(){const i=q(e.modelValue)===!0&&F()&&l[r.value];return e.keepAlive===!0?[C(ae,y.value,[C(A.value===!0?a(m.value,()=>({...U,name:m.value})):U,{key:m.value,style:c.value},()=>i)])]:[C("div",{class:"q-panel scroll",style:c.value,key:m.value,role:"tabpanel"},[i])]}function R(){if(l.length!==0)return e.animated===!0?[C(re,{name:u.value},L)]:L()}function X(i){return l=oe(B(i.default,[])).filter(s=>s.props!==null&&s.props.slot===void 0&&q(s.props.name)===!0),l.length}function H(){return l}return Object.assign(o,{next:x,previous:V,goTo:_}),{panelIndex:r,panelDirectives:h,updatePanelsList:X,updatePanelIndex:F,getPanelContent:R,getEnabledPanels:j,getPanels:H,isValidPanelName:q,keepAliveProps:y,needsUniqueKeepAliveWrapper:A,goToPanelByOffset:b,goToPanel:_,nextPanel:x,previousPanel:V}}export{me as Q,ge as a,ye as b,Pe as c,he as u};
