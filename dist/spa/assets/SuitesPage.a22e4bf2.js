import{d as F,am as D,q as Y,ai as H,r as c,c as w,w as K,o as L,n as i,v as _,x as g,A as s,aU as f,ay as A,C as p,f as n,Q as S,p as x,an as q,F as b,y as V,z as T,aR as W}from"./index.3c48b6f7.js";import{Q as G}from"./QSelect.7c826cfb.js";import{Q as J}from"./QItemLabel.9ddb68b1.js";import{Q as I}from"./use-dark.f400b985.js";import{Q as X,a as Z}from"./QCarousel.8805944c.js";import{Q as ee,a as te}from"./QCard.bc89b753.js";import{Q as se}from"./QPage.2dc96178.js";import{S as oe,a as le}from"./suites.view-model.5e202107.js";import"./use-key-composition.d4c28df8.js";import"./urlPaths.enum.82ba9a55.js";import"./focus-manager.02955f48.js";import"./use-model-toggle.e512d394.js";import"./QMenu.f664353c.js";import"./selection.87736456.js";import"./use-form.63261807.js";import"./use-panel.2625a8f5.js";import"./use-cache.b0833c75.js";import"./base.view-model.5e1efaea.js";import"./axios.4c6579cc.js";import"./utils.6837a8f1.js";const ae={class:"q-ml-xl q-pl-sm"},re={class:"q-px-lg"},ie={class:"flex flex-center"},ne={class:"flex row flex-center q-py-xs"},ue={class:"flex row flex-center rooms-type-slide",style:{height:"100%",width:"70%"}},de={class:"q-mt-lg q-ml-lg"},ce=s("span",{class:"q-ml-sm"},"Suite Providers:",-1),pe={class:"flex column q-gutter-lg q-mt-xl"},ve={class:"flex row justify-evenly q-gutter-sm-lg"},me=s("p",null,"Users Ratings: 4.8",-1),ge={class:"text-h5 text-primary q-mt-xl"},fe={class:"purple-border",style:{height:"70vh",padding:"4vw"}},Ee=F({__name:"SuitesPage",setup(ye){const Q=D(),$=Y(),{serviceId:y}=$.currentRoute.value.params,v=new oe(H(new le)),a=v.model,r=c(0),R=c("outline"),k=c("SuitePanel"),C=c(!0),u=c(""),m=c(0),P=c(""),B=w(()=>{var e,o;return((o=(e=a.providers)==null?void 0:e.find(t=>t.id===u.value))==null?void 0:o.name)||""}),z=w(()=>{var l;if(!((l=a.categories)!=null&&l.length))return[];const e=r.value-1<0?m.value:r.value-1,o=r.value+1>m.value?0:r.value+1,t=[a.categories[e],a.categories[r.value],a.categories[o]];return console.log("this is the result: ",t),t}),M=w(()=>{var e;return((e=a.providers)==null?void 0:e.map(o=>({label:o.name,value:o.id})))||[]}),h=w(()=>Q.screen.lt.lg?"40vw":"28vw");async function O(e){$.push({name:"suites-details",params:{serviceProviderId:e,serviceId:y}})}async function U(e){P.value=e,await v.getSuites({category:e.split(" ").join("_"),...u.value?{serviceProviderId:u.value}:{serviceId:y}})}function E(){let e=r.value;e+=1,e>m.value&&(e=0),r.value=e}function N(){let e=r.value;e-=1,e<0&&(e=m.value),r.value=e}return K(u,async e=>{e&&(console.log("before request: ",a.suites),await v.getSuites({serviceProviderId:e}),console.log("after request: ",a.suites))}),L(async()=>{var o,t;await v.populateModelFields(y);const e=(o=a.suites)==null?void 0:o.map(l=>({id:l.id,name:l.category,description:l.description,type:l.type,priceOptions:l.priceOptions,features:l.features,files:l.files}));await((t=v.stores.serviceWithOffer)==null?void 0:t.insertServiceOfferIntoService(y,e)),m.value=a.categories.length-1}),(e,o)=>(i(),_(se,null,{default:g(()=>[s("div",null,[s("div",null,[s("h4",null,f(A(a).message),1)]),s("p",ae,f(A(a).submessage),1),s("div",re,[s("div",ie,[s("div",{class:"border-rounded-sm q-mx-lg",style:p({width:"98%",height:"12vh",border:`solid ${e.$getColor("secondary")} 0.1rem`})},[s("div",ne,[n(S,{class:"q-pa-md",style:p({border:`${e.$getColor("secondary")} solid 0.1px`}),icon:"arrow_left",size:"1.6vw",round:"",flat:"",outline:"",color:"secondary",onClick:N},null,8,["style"]),s("div",ue,[(i(!0),x(b,null,q(z.value,(t,l)=>(i(),_(S,{key:l,icon:"apartment",label:(A(Q).screen.lt.lg?t.slice(0,14):t).split("_").join(" "),flat:"",size:"1.4vw",outline:"",color:P.value===t?"accent":"secondary",stack:"","no-caps":"",onClick:d=>U(t)},null,8,["label","color","onClick"]))),128))]),n(S,{style:p({border:`${e.$getColor("secondary")} solid 0.1px`}),icon:"arrow_right",size:"1.6vw",round:"",flat:"",outline:"",color:"secondary",class:"q-pa-md",onClick:E},null,8,["style"])])],4)]),s("div",de,[ce,n(G,{style:{width:"20%"},color:"secondary",label:"All",modelValue:u.value,"onUpdate:modelValue":o[0]||(o[0]=t=>u.value=t),options:M.value,"emit-value":"","map-options":"",outlined:"",rounded:"",dense:""},null,8,["modelValue","options"])]),s("div",pe,[s("div",ve,[(i(!0),x(b,null,q(A(a).suites,(t,l)=>(i(),x("div",{key:l,class:"flex column",style:{width:"min-content"}},[V((i(),_(ee,{class:"q-pb-none rounded-borders cursor-pointer",style:p({width:h.value,height:h.value,borderRadius:"4vw"}),bordered:""},{default:g(()=>[n(te,{class:"q-pa-none q-ma-none",style:{position:"relative"}},{default:g(()=>[n(J,{class:"absolute-top-left q-px-xl q-ml-lg q-mt-lg text-h6 text-white bg-accent shadow-1",style:{"z-index":"999"},label:t.provider.name},null,8,["label"]),n(X,{style:p({width:h.value,height:h.value,borderRadius:"4vw"}),animated:"",modelValue:k.value,"onUpdate:modelValue":o[1]||(o[1]=d=>k.value=d),navigation:"",infinite:"","control-type":R.value,autoplay:C.value,arrows:!1,"transition-prev":"slide-right","transition-next":"slide-left",onMouseenter:o[2]||(o[2]=d=>C.value=!1),onMouseleave:o[3]||(o[3]=d=>C.value=!0)},{default:g(()=>[(i(!0),x(b,null,q(t.files,(d,j)=>(i(),_(Z,{key:j,name:d.filename,onClick:he=>O(t.provider.id)},{default:g(()=>[n(I,{src:d.url,ratio:1,"spinner-color":"primary","spinner-size":"82px",loading:"lazy",height:"300",width:"300","placeholder-src":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="},null,8,["src"])]),_:2},1032,["name","onClick"]))),128))]),_:2},1032,["style","modelValue","control-type","autoplay"])]),_:2},1024)]),_:2},1032,["style"])),[[W]]),s("div",{class:"q-mt-md suite-service-description",style:p({color:`${e.$getColor("blue-grey-10")}`})},[s("p",null,f(`${t.location.landmark}, ${t.location.city}, ${t.location.state.name},
                  ${t.location.country}`)+". ",1),s("p",null,f(t.description),1),me],4)]))),128))])])]),V(s("div",null,[s("div",ge," Some Exciting features in "+f(B.value),1),s("div",fe,[n(I,{src:"/assets/feature.png",fit:"cover",style:{height:"100%","max-width":"100%"}})])],512),[[T,u.value!==""]])])]),_:1}))}});export{Ee as default};
