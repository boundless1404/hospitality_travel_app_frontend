import{i as nl,w as X,o as zt,I as be,aA as il,g as ye,r as B,c as f,aF as Et,a9 as al,aG as Rt,a3 as Se,N as se,ad as Mt,az as It,L as rl,h as v,a4 as fe,B as tt,K as sl,n as ke,J as lt,af as cl,m as Ne,as as yt,aH as dl,ah as fl,M as vl,ar as ml,aI as gl,aJ as Ee,q as hl,aw as _e,av as Sl,a0 as bl}from"./index.2539991c.js";import{u as yl,a as pl}from"./selection.ffdb9648.js";import{d as Ot,w as wl,e as Cl,f as xl,i as Vl,k as ql,j as _l,l as kl,p as Al,o as Bl,x as pt,y as wt,z as Fl,A as zl,Q as El,b as Rl,a as Ml}from"./QMenu.f5662b94.js";import{Q as Il}from"./QChip.1946aeae.js";function Ol({validate:e,resetValidation:l,requiresQForm:o}){const i=nl(il,!1);if(i!==!1){const{props:b,proxy:n}=ye();Object.assign(n,{validate:e,resetValidation:l}),X(()=>b.disable,m=>{m===!0?(typeof l=="function"&&l(),i.unbindComponent(n)):i.bindComponent(n)}),zt(()=>{b.disable!==!0&&i.bindComponent(n)}),be(()=>{b.disable!==!0&&i.unbindComponent(n)})}else o===!0&&console.error("Parent QForm not found on useFormChild()!")}const Ct=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,xt=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,Vt=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,Pe=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,De=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Je={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>Ct.test(e),hexaColor:e=>xt.test(e),hexOrHexaColor:e=>Vt.test(e),rgbColor:e=>Pe.test(e),rgbaColor:e=>De.test(e),rgbOrRgbaColor:e=>Pe.test(e)||De.test(e),hexOrRgbColor:e=>Ct.test(e)||Pe.test(e),hexaOrRgbaColor:e=>xt.test(e)||De.test(e),anyColor:e=>Vt.test(e)||Pe.test(e)||De.test(e)},Tl=[!0,!1,"ondemand"],Hl={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>Tl.includes(e)}};function Ll(e,l){const{props:o,proxy:i}=ye(),b=B(!1),n=B(null),m=B(null);Ol({validate:z,resetValidation:A});let g=0,S;const F=f(()=>o.rules!==void 0&&o.rules!==null&&o.rules.length!==0),c=f(()=>o.disable!==!0&&F.value===!0&&l.value===!1),w=f(()=>o.error===!0||b.value===!0),k=f(()=>typeof o.errorMessage=="string"&&o.errorMessage.length!==0?o.errorMessage:n.value);X(()=>o.modelValue,()=>{m.value=!0,c.value===!0&&o.lazyRules===!1&&P()}),X(()=>o.reactiveRules,E=>{E===!0?S===void 0&&(S=X(()=>o.rules,()=>{c.value===!0&&m.value===!0&&o.lazyRules!=="ondemand"&&P()},{immediate:!0})):S!==void 0&&(S(),S=void 0)},{immediate:!0}),X(()=>o.lazyRules,E=>{E===!1&&c.value===!0&&m.value===!0&&P()}),X(e,E=>{E===!0?m.value===null&&(m.value=o.lazyRules===!0):c.value===!0&&(o.lazyRules===!1||o.lazyRules===!0&&m.value===!0)&&P()});function A(){g++,l.value=!1,m.value=null,b.value=!1,n.value=null,P.cancel()}function z(E=o.modelValue){if(o.disable===!0||F.value===!1)return!0;const K=++g,W=l.value!==!0?()=>{m.value=!0}:()=>{},T=(L,q)=>{L===!0&&W(),b.value=L,n.value=q||null,l.value=!1},R=[];for(let L=0;L<o.rules.length;L++){const q=o.rules[L];let M;if(typeof q=="function"?M=q(E,Je):typeof q=="string"&&Je[q]!==void 0&&(M=Je[q](E)),M===!1||typeof M=="string")return T(!0,M),!1;M!==!0&&M!==void 0&&R.push(M)}return R.length===0?(T(!1),!0):(l.value=!0,Promise.all(R).then(L=>{if(L===void 0||Array.isArray(L)===!1||L.length===0)return K===g&&T(!1),!0;const q=L.find(M=>M===!1||typeof M=="string");return K===g&&T(q!==void 0,q),q===void 0},L=>(K===g&&(console.error(L),T(!0)),!1)))}const P=Et(z,0);return be(()=>{S!==void 0&&S(),P.cancel()}),Object.assign(i,{resetValidation:A,validate:z}),al(i,"hasError",()=>w.value),{isDirtyModel:m,hasRules:F,hasError:w,errorMessage:k,validate:z,resetValidation:A}}const qt=/^on[A-Z]/;function Pl(e,l){const o={listeners:B({}),attributes:B({})};function i(){const b={},n={};for(const m in e)m!=="class"&&m!=="style"&&qt.test(m)===!1&&(b[m]=e[m]);for(const m in l.props)qt.test(m)===!0&&(n[m]=l.props[m]);o.attributes.value=b,o.listeners.value=n}return Rt(i),i(),o}let Ge,$e=0;const Q=new Array(256);for(let e=0;e<256;e++)Q[e]=(e+256).toString(16).substring(1);const Dl=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return l=>{const o=new Uint8Array(l);return e.getRandomValues(o),o}}return l=>{const o=[];for(let i=l;i>0;i--)o.push(Math.floor(Math.random()*256));return o}})(),_t=4096;function Tt(){(Ge===void 0||$e+16>_t)&&($e=0,Ge=Dl(_t));const e=Array.prototype.slice.call(Ge,$e,$e+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,Q[e[0]]+Q[e[1]]+Q[e[2]]+Q[e[3]]+"-"+Q[e[4]]+Q[e[5]]+"-"+Q[e[6]]+Q[e[7]]+"-"+Q[e[8]]+Q[e[9]]+"-"+Q[e[10]]+Q[e[11]]+Q[e[12]]+Q[e[13]]+Q[e[14]]+Q[e[15]]}function Ht(e,l){return e===void 0?l===!0?`f_${Tt()}`:void 0:e}function ot(e){return e!=null&&(""+e).length!==0}const ut={...yl,...Hl,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},Lt=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function Pt({requiredForAttr:e=!0,tagProp:l}={}){const{props:o,attrs:i,proxy:b,vnode:n}=ye(),m=pl(o,b.$q);return{requiredForAttr:e,tag:l===!0?f(()=>o.tag):{value:"label"},isDark:m,editable:f(()=>o.disable!==!0&&o.readonly!==!0),innerLoading:B(!1),focused:B(!1),hasPopupOpen:!1,splitAttrs:Pl(i,n),targetUid:B(Ht(o.for,e)),rootRef:B(null),targetRef:B(null),controlRef:B(null)}}function Dt(e){const{props:l,emit:o,slots:i,attrs:b,proxy:n}=ye(),{$q:m}=n;let g=null;e.hasValue===void 0&&(e.hasValue=f(()=>ot(l.modelValue))),e.emitValue===void 0&&(e.emitValue=d=>{o("update:modelValue",d)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:ne,onFocusout:G}),Object.assign(e,{clearValue:ee,onControlFocusin:ne,onControlFocusout:G,focus:M}),e.computedCounter===void 0&&(e.computedCounter=f(()=>{if(l.counter!==!1){const d=typeof l.modelValue=="string"||typeof l.modelValue=="number"?(""+l.modelValue).length:Array.isArray(l.modelValue)===!0?l.modelValue.length:0,_=l.maxlength!==void 0?l.maxlength:l.maxValues;return d+(_!==void 0?" / "+_:"")}}));const{isDirtyModel:S,hasRules:F,hasError:c,errorMessage:w,resetValidation:k}=Ll(e.focused,e.innerLoading),A=e.floatingLabel!==void 0?f(()=>l.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):f(()=>l.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),z=f(()=>l.bottomSlots===!0||l.hint!==void 0||F.value===!0||l.counter===!0||l.error!==null),P=f(()=>l.filled===!0?"filled":l.outlined===!0?"outlined":l.borderless===!0?"borderless":l.standout?"standout":"standard"),E=f(()=>`q-field row no-wrap items-start q-field--${P.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(l.rounded===!0?" q-field--rounded":"")+(l.square===!0?" q-field--square":"")+(A.value===!0?" q-field--float":"")+(W.value===!0?" q-field--labeled":"")+(l.dense===!0?" q-field--dense":"")+(l.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(c.value===!0?" q-field--error":"")+(c.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(l.hideBottomSpace!==!0&&z.value===!0?" q-field--with-bottom":"")+(l.disable===!0?" q-field--disabled":l.readonly===!0?" q-field--readonly":"")),K=f(()=>"q-field__control relative-position row no-wrap"+(l.bgColor!==void 0?` bg-${l.bgColor}`:"")+(c.value===!0?" text-negative":typeof l.standout=="string"&&l.standout.length!==0&&e.focused.value===!0?` ${l.standout}`:l.color!==void 0?` text-${l.color}`:"")),W=f(()=>l.labelSlot===!0||l.label!==void 0),T=f(()=>"q-field__label no-pointer-events absolute ellipsis"+(l.labelColor!==void 0&&c.value!==!0?` text-${l.labelColor}`:"")),R=f(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:A.value,modelValue:l.modelValue,emitValue:e.emitValue})),L=f(()=>{const d={for:e.targetUid.value};return l.disable===!0&&(d["aria-disabled"]="true"),d});X(()=>l.for,d=>{e.targetUid.value=Ht(d,e.requiredForAttr)});function q(){const d=document.activeElement;let _=e.targetRef!==void 0&&e.targetRef.value;_&&(d===null||d.id!==e.targetUid.value)&&(_.hasAttribute("tabindex")===!0||(_=_.querySelector("[tabindex]")),_&&_!==d&&_.focus({preventScroll:!0}))}function M(){Ot(q)}function oe(){wl(q);const d=document.activeElement;d!==null&&e.rootRef.value.contains(d)&&d.blur()}function ne(d){g!==null&&(clearTimeout(g),g=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,o("focus",d))}function G(d,_){g!==null&&clearTimeout(g),g=setTimeout(()=>{g=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,o("blur",d)),_!==void 0&&_())})}function ee(d){Se(d),m.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),l.type==="file"&&(e.inputRef.value.value=null),o("update:modelValue",null),o("clear",l.modelValue),se(()=>{k(),m.platform.is.mobile!==!0&&(S.value=!1)})}function N(){const d=[];return i.prepend!==void 0&&d.push(v("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:fe},i.prepend())),d.push(v("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},re())),c.value===!0&&l.noErrorIcon===!1&&d.push(Y("error",[v(tt,{name:m.iconSet.field.error,color:"negative"})])),l.loading===!0||e.innerLoading.value===!0?d.push(Y("inner-loading-append",i.loading!==void 0?i.loading():[v(sl,{color:l.color})])):l.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&d.push(Y("inner-clearable-append",[v(tt,{class:"q-field__focusable-action",tag:"button",name:l.clearIcon||m.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:ee})])),i.append!==void 0&&d.push(v("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:fe},i.append())),e.getInnerAppend!==void 0&&d.push(Y("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&d.push(e.getControlChild()),d}function re(){const d=[];return l.prefix!==void 0&&l.prefix!==null&&d.push(v("div",{class:"q-field__prefix no-pointer-events row items-center"},l.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&d.push(e.getShadowControl()),e.getControl!==void 0?d.push(e.getControl()):i.rawControl!==void 0?d.push(i.rawControl()):i.control!==void 0&&d.push(v("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":l.autofocus===!0||void 0},i.control(R.value))),W.value===!0&&d.push(v("div",{class:T.value},ke(i.label,l.label))),l.suffix!==void 0&&l.suffix!==null&&d.push(v("div",{class:"q-field__suffix no-pointer-events row items-center"},l.suffix)),d.concat(ke(i.default))}function ce(){let d,_;c.value===!0?w.value!==null?(d=[v("div",{role:"alert"},w.value)],_=`q--slot-error-${w.value}`):(d=ke(i.error),_="q--slot-error"):(l.hideHint!==!0||e.focused.value===!0)&&(l.hint!==void 0?(d=[v("div",l.hint)],_=`q--slot-hint-${l.hint}`):(d=ke(i.hint),_="q--slot-hint"));const te=l.counter===!0||i.counter!==void 0;if(l.hideBottomSpace===!0&&te===!1&&d===void 0)return;const le=v("div",{key:_,class:"q-field__messages col"},d);return v("div",{class:"q-field__bottom row items-start q-field__bottom--"+(l.hideBottomSpace!==!0?"animated":"stale"),onClick:fe},[l.hideBottomSpace===!0?le:v(lt,{name:"q-transition--field-message"},()=>le),te===!0?v("div",{class:"q-field__counter"},i.counter!==void 0?i.counter():e.computedCounter.value):null])}function Y(d,_){return _===null?null:v("div",{key:d,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},_)}let j=!1;return Mt(()=>{j=!0}),It(()=>{j===!0&&l.autofocus===!0&&n.focus()}),zt(()=>{rl.value===!0&&e.requiredForAttr===!0&&l.for===void 0&&(e.targetUid.value=`f_${Tt()}`),l.autofocus===!0&&n.focus()}),be(()=>{g!==null&&clearTimeout(g)}),Object.assign(n,{focus:M,blur:oe}),function(){const _=e.getControl===void 0&&i.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":l.autofocus===!0||void 0,...L.value}:L.value;return v(e.tag.value,{ref:e.rootRef,class:[E.value,b.class],style:b.style,..._},[i.before!==void 0?v("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:fe},i.before()):null,v("div",{class:"q-field__inner relative-position col self-stretch"},[v("div",{ref:e.controlRef,class:K.value,tabindex:-1,...e.controlEvents},N()),z.value===!0?ce():null]),i.after!==void 0?v("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:fe},i.after()):null])}}const $l={name:String};function jl(e){return f(()=>e.name||e.for)}const Kl=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Nl=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Ul=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,Ql=/[a-z0-9_ -]$/i;function Wl(e){return function(o){if(o.type==="compositionend"||o.type==="change"){if(o.target.qComposing!==!0)return;o.target.qComposing=!1,e(o)}else o.type==="compositionupdate"&&o.target.qComposing!==!0&&typeof o.data=="string"&&(cl.is.firefox===!0?Ql.test(o.data)===!1:Kl.test(o.data)===!0||Nl.test(o.data)===!0||Ul.test(o.data)===!0)===!0&&(o.target.qComposing=!0)}}var Xl=Ne({name:"QField",inheritAttrs:!1,props:{...ut,tag:{type:String,default:"label"}},emits:Lt,setup(){return Dt(Pt({requiredForAttr:!1,tagProp:!0}))}}),Yl=Ne({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:l}){const o=f(()=>parseInt(e.lines,10)),i=f(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(o.value===1?" ellipsis":"")),b=f(()=>e.lines!==void 0&&o.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":o.value}:null);return()=>v("div",{style:b.value,class:i.value},ke(l.default))}});function Zl(e,l,o){let i;function b(){i!==void 0&&(yt.remove(i),i=void 0)}return be(()=>{e.value===!0&&b()}),{removeFromHistory:b,addToHistory(){i={condition:()=>o.value===!0,handler:l},yt.add(i)}}}function Jl(){let e;return{preventBodyScroll(l){l!==e&&(e!==void 0||l===!0)&&(e=l,dl(l))}}}let je=0;const Gl={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},kt={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var eo=Ne({name:"QDialog",inheritAttrs:!1,props:{...Cl,...xl,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...Vl,"shake","click","escapeKey"],setup(e,{slots:l,emit:o,attrs:i}){const b=ye(),n=B(null),m=B(!1),g=B(!1);let S=null,F=null,c,w;const k=f(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:A}=Jl(),{registerTimeout:z}=ql(),{registerTick:P,removeTick:E}=_l(),{transitionProps:K,transitionStyle:W}=kl(e,()=>kt[e.position][0],()=>kt[e.position][1]),{showPortal:T,hidePortal:R,portalIsAccessible:L,renderPortal:q}=Al(b,n,I,"dialog"),{hide:M}=Bl({showing:m,hideOnRouteChange:k,handleShow:ce,handleHide:Y,processOnMount:!0}),{addToHistory:oe,removeFromHistory:ne}=Zl(m,M,k),G=f(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Gl[e.position]}`+(g.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),ee=f(()=>m.value===!0&&e.seamless!==!0),N=f(()=>e.autoClose===!0?{onClick:u}:{}),re=f(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${ee.value===!0?"modal":"seamless"}`,i.class]);X(()=>e.maximized,h=>{m.value===!0&&le(h)}),X(ee,h=>{A(h),h===!0?(Fl(C),zl(_)):(pt(C),wt(_))});function ce(h){oe(),F=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,le(e.maximized),T(),g.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),P(j)):E(),z(()=>{if(b.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:y,bottom:V}=document.activeElement.getBoundingClientRect(),{innerHeight:D}=window,x=window.visualViewport!==void 0?window.visualViewport.height:D;y>0&&V>x/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-x,V>=D?1/0:Math.ceil(document.scrollingElement.scrollTop+V-x/2))),document.activeElement.scrollIntoView()}w=!0,n.value.click(),w=!1}T(!0),g.value=!1,o("show",h)},e.transitionDuration)}function Y(h){E(),ne(),te(!0),g.value=!0,R(),F!==null&&(((h&&h.type.indexOf("key")===0?F.closest('[tabindex]:not([tabindex^="-"])'):void 0)||F).focus(),F=null),z(()=>{R(!0),g.value=!1,o("hide",h)},e.transitionDuration)}function j(h){Ot(()=>{let y=n.value;y===null||y.contains(document.activeElement)===!0||(y=(h!==""?y.querySelector(h):null)||y.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||y.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||y.querySelector("[autofocus], [data-autofocus]")||y,y.focus({preventScroll:!0}))})}function d(h){h&&typeof h.focus=="function"?h.focus({preventScroll:!0}):j(),o("shake");const y=n.value;y!==null&&(y.classList.remove("q-animate--scale"),y.classList.add("q-animate--scale"),S!==null&&clearTimeout(S),S=setTimeout(()=>{S=null,n.value!==null&&(y.classList.remove("q-animate--scale"),j())},170))}function _(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&d():(o("escapeKey"),M()))}function te(h){S!==null&&(clearTimeout(S),S=null),(h===!0||m.value===!0)&&(le(!1),e.seamless!==!0&&(A(!1),pt(C),wt(_))),h!==!0&&(F=null)}function le(h){h===!0?c!==!0&&(je<1&&document.body.classList.add("q-body--dialog"),je++,c=!0):c===!0&&(je<2&&document.body.classList.remove("q-body--dialog"),je--,c=!1)}function u(h){w!==!0&&(M(h),o("click",h))}function s(h){e.persistent!==!0&&e.noBackdropDismiss!==!0?M(h):e.noShake!==!0&&d()}function C(h){e.allowFocusOutside!==!0&&L.value===!0&&fl(n.value,h.target)!==!0&&j('[tabindex]:not([tabindex="-1"])')}Object.assign(b.proxy,{focus:j,shake:d,__updateRefocusTarget(h){F=h||null}}),be(te);function I(){return v("div",{role:"dialog","aria-modal":ee.value===!0?"true":"false",...i,class:re.value},[v(lt,{name:"q-transition--fade",appear:!0},()=>ee.value===!0?v("div",{class:"q-dialog__backdrop fixed-full",style:W.value,"aria-hidden":"true",tabindex:-1,onClick:s}):null),v(lt,K.value,()=>m.value===!0?v("div",{ref:n,class:G.value,style:W.value,tabindex:-1,...N.value},ke(l.default)):null)])}return q}});let Ke=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const l=document.createElement("div");Object.assign(l.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(l),e.scrollLeft=-1e3,Ke=e.scrollLeft>=0,e.remove()}const ue=1e3,to=["start","center","end","start-force","center-force","end-force"],$t=Array.prototype.filter,lo=window.getComputedStyle(document.body).overflowAnchor===void 0?vl:function(e,l){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const o=e.children||[];$t.call(o,b=>b.dataset&&b.dataset.qVsAnchor!==void 0).forEach(b=>{delete b.dataset.qVsAnchor});const i=o[l];i&&i.dataset&&(i.dataset.qVsAnchor="")}))};function Ae(e,l){return e+l}function et(e,l,o,i,b,n,m,g){const S=e===window?document.scrollingElement||document.documentElement:e,F=b===!0?"offsetWidth":"offsetHeight",c={scrollStart:0,scrollViewSize:-m-g,scrollMaxSize:0,offsetStart:-m,offsetEnd:-g};if(b===!0?(e===window?(c.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,c.scrollViewSize+=document.documentElement.clientWidth):(c.scrollStart=S.scrollLeft,c.scrollViewSize+=S.clientWidth),c.scrollMaxSize=S.scrollWidth,n===!0&&(c.scrollStart=(Ke===!0?c.scrollMaxSize-c.scrollViewSize:0)-c.scrollStart)):(e===window?(c.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,c.scrollViewSize+=document.documentElement.clientHeight):(c.scrollStart=S.scrollTop,c.scrollViewSize+=S.clientHeight),c.scrollMaxSize=S.scrollHeight),o!==null)for(let w=o.previousElementSibling;w!==null;w=w.previousElementSibling)w.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetStart+=w[F]);if(i!==null)for(let w=i.nextElementSibling;w!==null;w=w.nextElementSibling)w.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetEnd+=w[F]);if(l!==e){const w=S.getBoundingClientRect(),k=l.getBoundingClientRect();b===!0?(c.offsetStart+=k.left-w.left,c.offsetEnd-=k.width):(c.offsetStart+=k.top-w.top,c.offsetEnd-=k.height),e!==window&&(c.offsetStart+=c.scrollStart),c.offsetEnd+=c.scrollMaxSize-c.offsetStart}return c}function At(e,l,o,i){l==="end"&&(l=(e===window?document.body:e)[o===!0?"scrollWidth":"scrollHeight"]),e===window?o===!0?(i===!0&&(l=(Ke===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):o===!0?(i===!0&&(l=(Ke===!0?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function Re(e,l,o,i){if(o>=i)return 0;const b=l.length,n=Math.floor(o/ue),m=Math.floor((i-1)/ue)+1;let g=e.slice(n,m).reduce(Ae,0);return o%ue!==0&&(g-=l.slice(n*ue,o).reduce(Ae,0)),i%ue!==0&&i!==b&&(g-=l.slice(i,m*ue).reduce(Ae,0)),g}const oo={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},uo={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...oo};function no({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:o,virtualScrollItemSizeComputed:i}){const b=ye(),{props:n,emit:m,proxy:g}=b,{$q:S}=g;let F,c,w,k=[],A;const z=B(0),P=B(0),E=B({}),K=B(null),W=B(null),T=B(null),R=B({from:0,to:0}),L=f(()=>n.tableColspan!==void 0?n.tableColspan:100);i===void 0&&(i=f(()=>n.virtualScrollItemSize));const q=f(()=>i.value+";"+n.virtualScrollHorizontal),M=f(()=>q.value+";"+n.virtualScrollSliceRatioBefore+";"+n.virtualScrollSliceRatioAfter);X(M,()=>{j()}),X(q,oe);function oe(){Y(c,!0)}function ne(u){Y(u===void 0?c:u)}function G(u,s){const C=l();if(C==null||C.nodeType===8)return;const I=et(C,o(),K.value,W.value,n.virtualScrollHorizontal,S.lang.rtl,n.virtualScrollStickySizeStart,n.virtualScrollStickySizeEnd);w!==I.scrollViewSize&&j(I.scrollViewSize),N(C,I,Math.min(e.value-1,Math.max(0,parseInt(u,10)||0)),0,to.indexOf(s)>-1?s:c>-1&&u>c?"end":"start")}function ee(){const u=l();if(u==null||u.nodeType===8)return;const s=et(u,o(),K.value,W.value,n.virtualScrollHorizontal,S.lang.rtl,n.virtualScrollStickySizeStart,n.virtualScrollStickySizeEnd),C=e.value-1,I=s.scrollMaxSize-s.offsetStart-s.offsetEnd-P.value;if(F===s.scrollStart)return;if(s.scrollMaxSize<=0){N(u,s,0,0);return}w!==s.scrollViewSize&&j(s.scrollViewSize),re(R.value.from);const h=Math.floor(s.scrollMaxSize-Math.max(s.scrollViewSize,s.offsetEnd)-Math.min(A[C],s.scrollViewSize/2));if(h>0&&Math.ceil(s.scrollStart)>=h){N(u,s,C,s.scrollMaxSize-s.offsetEnd-k.reduce(Ae,0));return}let y=0,V=s.scrollStart-s.offsetStart,D=V;if(V<=I&&V+s.scrollViewSize>=z.value)V-=z.value,y=R.value.from,D=V;else for(let x=0;V>=k[x]&&y<C;x++)V-=k[x],y+=ue;for(;V>0&&y<C;)V-=A[y],V>-s.scrollViewSize?(y++,D=V):D=A[y]+V;N(u,s,y,D)}function N(u,s,C,I,h){const y=typeof h=="string"&&h.indexOf("-force")>-1,V=y===!0?h.replace("-force",""):h,D=V!==void 0?V:"start";let x=Math.max(0,C-E.value[D]),Z=x+E.value.total;Z>e.value&&(Z=e.value,x=Math.max(0,Z-E.value.total)),F=s.scrollStart;const de=x!==R.value.from||Z!==R.value.to;if(de===!1&&V===void 0){_(C);return}const{activeElement:Me}=document,ie=T.value;de===!0&&ie!==null&&ie!==Me&&ie.contains(Me)===!0&&(ie.addEventListener("focusout",ce),setTimeout(()=>{ie!==null&&ie.removeEventListener("focusout",ce)})),lo(ie,C-x);const Ie=V!==void 0?A.slice(x,C).reduce(Ae,0):0;if(de===!0){const ve=Z>=R.value.from&&x<=R.value.to?R.value.to:Z;R.value={from:x,to:ve},z.value=Re(k,A,0,x),P.value=Re(k,A,Z,e.value),requestAnimationFrame(()=>{R.value.to!==Z&&F===s.scrollStart&&(R.value={from:R.value.from,to:Z},P.value=Re(k,A,Z,e.value))})}requestAnimationFrame(()=>{if(F!==s.scrollStart)return;de===!0&&re(x);const ve=A.slice(x,C).reduce(Ae,0),me=ve+s.offsetStart+z.value,Oe=me+A[C];let Be=me+I;if(V!==void 0){const Ue=ve-Ie,Fe=s.scrollStart+Ue;Be=y!==!0&&Fe<me&&Oe<Fe+s.scrollViewSize?Fe:V==="end"?Oe-s.scrollViewSize:me-(V==="start"?0:Math.round((s.scrollViewSize-A[C])/2))}F=Be,At(u,Be,n.virtualScrollHorizontal,S.lang.rtl),_(C)})}function re(u){const s=T.value;if(s){const C=$t.call(s.children,x=>x.classList&&x.classList.contains("q-virtual-scroll--skip")===!1),I=C.length,h=n.virtualScrollHorizontal===!0?x=>x.getBoundingClientRect().width:x=>x.offsetHeight;let y=u,V,D;for(let x=0;x<I;){for(V=h(C[x]),x++;x<I&&C[x].classList.contains("q-virtual-scroll--with-prev")===!0;)V+=h(C[x]),x++;D=V-A[y],D!==0&&(A[y]+=D,k[Math.floor(y/ue)]+=D),y++}}}function ce(){T.value!==null&&T.value!==void 0&&T.value.focus()}function Y(u,s){const C=1*i.value;(s===!0||Array.isArray(A)===!1)&&(A=[]);const I=A.length;A.length=e.value;for(let y=e.value-1;y>=I;y--)A[y]=C;const h=Math.floor((e.value-1)/ue);k=[];for(let y=0;y<=h;y++){let V=0;const D=Math.min((y+1)*ue,e.value);for(let x=y*ue;x<D;x++)V+=A[x];k.push(V)}c=-1,F=void 0,z.value=Re(k,A,0,R.value.from),P.value=Re(k,A,R.value.to,e.value),u>=0?(re(R.value.from),se(()=>{G(u)})):te()}function j(u){if(u===void 0&&typeof window!="undefined"){const V=l();V!=null&&V.nodeType!==8&&(u=et(V,o(),K.value,W.value,n.virtualScrollHorizontal,S.lang.rtl,n.virtualScrollStickySizeStart,n.virtualScrollStickySizeEnd).scrollViewSize)}w=u;const s=parseFloat(n.virtualScrollSliceRatioBefore)||0,C=parseFloat(n.virtualScrollSliceRatioAfter)||0,I=1+s+C,h=u===void 0||u<=0?1:Math.ceil(u/i.value),y=Math.max(1,h,Math.ceil((n.virtualScrollSliceSize>0?n.virtualScrollSliceSize:10)/I));E.value={total:Math.ceil(y*I),start:Math.ceil(y*s),center:Math.ceil(y*(.5+s)),end:Math.ceil(y*(1+s)),view:h}}function d(u,s){const C=n.virtualScrollHorizontal===!0?"width":"height",I={["--q-virtual-scroll-item-"+C]:i.value+"px"};return[u==="tbody"?v(u,{class:"q-virtual-scroll__padding",key:"before",ref:K},[v("tr",[v("td",{style:{[C]:`${z.value}px`,...I},colspan:L.value})])]):v(u,{class:"q-virtual-scroll__padding",key:"before",ref:K,style:{[C]:`${z.value}px`,...I}}),v(u,{class:"q-virtual-scroll__content",key:"content",ref:T,tabindex:-1},s.flat()),u==="tbody"?v(u,{class:"q-virtual-scroll__padding",key:"after",ref:W},[v("tr",[v("td",{style:{[C]:`${P.value}px`,...I},colspan:L.value})])]):v(u,{class:"q-virtual-scroll__padding",key:"after",ref:W,style:{[C]:`${P.value}px`,...I}})]}function _(u){c!==u&&(n.onVirtualScroll!==void 0&&m("virtualScroll",{index:u,from:R.value.from,to:R.value.to-1,direction:u<c?"decrease":"increase",ref:g}),c=u)}j();const te=Et(ee,S.platform.is.ios===!0?120:35);ml(()=>{j()});let le=!1;return Mt(()=>{le=!0}),It(()=>{if(le!==!0)return;const u=l();F!==void 0&&u!==void 0&&u!==null&&u.nodeType!==8?At(u,F,n.virtualScrollHorizontal,S.lang.rtl):G(c)}),be(()=>{te.cancel()}),Object.assign(g,{scrollTo:G,reset:oe,refresh:ne}),{virtualScrollSliceRange:R,virtualScrollSliceSizeComputed:E,setVirtualScrollSize:j,onVirtualScrollEvt:te,localResetVirtualScroll:Y,padVirtualScroll:d,scrollTo:G,reset:oe,refresh:ne}}function Bt(e,l,o){if(o<=l)return l;const i=o-l+1;let b=l+(e-l)%i;return b<l&&(b=i+b),b===0?0:b}const Ft=e=>["add","add-unique","toggle"].includes(e),io=".*+?^${}()|[]\\",ao=Object.keys(ut);var vo=Ne({name:"QSelect",inheritAttrs:!1,props:{...uo,...$l,...ut,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Ft},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...Lt,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:l,emit:o}){const{proxy:i}=ye(),{$q:b}=i,n=B(!1),m=B(!1),g=B(-1),S=B(""),F=B(!1),c=B(!1);let w=null,k=null,A,z,P,E=null,K,W,T,R;const L=B(null),q=B(null),M=B(null),oe=B(null),ne=B(null),G=jl(e),ee=Wl(mt),N=f(()=>Array.isArray(e.options)?e.options.length:0),re=f(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:ce,virtualScrollSliceSizeComputed:Y,localResetVirtualScroll:j,padVirtualScroll:d,onVirtualScrollEvt:_,scrollTo:te,setVirtualScrollSize:le}=no({virtualScrollLength:N,getVirtualScrollTarget:Ut,getVirtualScrollEl:ft,virtualScrollItemSizeComputed:re}),u=Pt(),s=f(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,r=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const a=e.mapOptions===!0&&A!==void 0?A:[],p=r.map(H=>Nt(H,a));return e.modelValue===null&&t===!0?p.filter(H=>H!==null):p}return r}),C=f(()=>{const t={};return ao.forEach(r=>{const a=e[r];a!==void 0&&(t[r]=a)}),t}),I=f(()=>e.optionsDark===null?u.isDark.value:e.optionsDark),h=f(()=>ot(s.value)),y=f(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||s.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),V=f(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),D=f(()=>N.value===0),x=f(()=>s.value.map(t=>J.value(t)).join(", ")),Z=f(()=>e.displayValue!==void 0?e.displayValue:x.value),de=f(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),Me=f(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||s.value.some(de.value))),ie=f(()=>u.focused.value===!0?e.tabindex:-1),Ie=f(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":n.value===!0?"true":"false","aria-controls":`${u.targetUid.value}_lb`};return g.value>=0&&(t["aria-activedescendant"]=`${u.targetUid.value}_${g.value}`),t}),ve=f(()=>({id:`${u.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),me=f(()=>s.value.map((t,r)=>({index:r,opt:t,html:de.value(t),selected:!0,removeAtIndex:Kt,toggleOption:ge,tabindex:ie.value}))),Oe=f(()=>{if(N.value===0)return[];const{from:t,to:r}=ce.value;return e.options.slice(t,r).map((a,p)=>{const H=pe.value(a)===!0,O=Xe(a)===!0,U=t+p,$={clickable:!0,active:O,activeClass:Fe.value,manualFocus:!0,focused:!1,disable:H,tabindex:-1,dense:e.optionsDense,dark:I.value,role:"option","aria-selected":O===!0?"true":"false",id:`${u.targetUid.value}_${U}`,onClick:()=>{ge(a)}};return H!==!0&&(g.value===U&&($.focused=!0),b.platform.is.desktop===!0&&($.onMousemove=()=>{n.value===!0&&we(U)})),{index:U,opt:a,html:de.value(a),label:J.value(a),selected:$.active,focused:$.focused,toggleOption:ge,setOptionIndex:we,itemProps:$}})}),Be=f(()=>e.dropdownIcon!==void 0?e.dropdownIcon:b.iconSet.arrow.dropdown),Ue=f(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Fe=f(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),ae=f(()=>We(e.optionValue,"value")),J=f(()=>We(e.optionLabel,"label")),pe=f(()=>We(e.optionDisable,"disable")),Te=f(()=>s.value.map(t=>ae.value(t))),jt=f(()=>{const t={onInput:mt,onChange:ee,onKeydown:dt,onKeyup:st,onKeypress:ct,onFocus:at,onClick(r){z===!0&&_e(r)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=ee,t});X(s,t=>{A=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&u.innerLoading.value!==!0&&(m.value!==!0&&n.value!==!0||h.value!==!0)&&(P!==!0&&qe(),(m.value===!0||n.value===!0)&&Ce(""))},{immediate:!0}),X(()=>e.fillInput,qe),X(n,Ye),X(N,ul);function nt(t){return e.emitValue===!0?ae.value(t):t}function Qe(t){if(t>-1&&t<s.value.length)if(e.multiple===!0){const r=e.modelValue.slice();o("remove",{index:t,value:r.splice(t,1)[0]}),o("update:modelValue",r)}else o("update:modelValue",null)}function Kt(t){Qe(t),u.focus()}function it(t,r){const a=nt(t);if(e.multiple!==!0){e.fillInput===!0&&ze(J.value(t),!0,!0),o("update:modelValue",a);return}if(s.value.length===0){o("add",{index:0,value:a}),o("update:modelValue",e.multiple===!0?[a]:a);return}if(r===!0&&Xe(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const p=e.modelValue.slice();o("add",{index:p.length,value:a}),p.push(a),o("update:modelValue",p)}function ge(t,r){if(u.editable.value!==!0||t===void 0||pe.value(t)===!0)return;const a=ae.value(t);if(e.multiple!==!0){r!==!0&&(ze(e.fillInput===!0?J.value(t):"",!0,!0),he()),q.value!==null&&q.value.focus(),(s.value.length===0||Ee(ae.value(s.value[0]),a)!==!0)&&o("update:modelValue",e.emitValue===!0?a:t);return}if((z!==!0||F.value===!0)&&u.focus(),at(),s.value.length===0){const O=e.emitValue===!0?a:t;o("add",{index:0,value:O}),o("update:modelValue",e.multiple===!0?[O]:O);return}const p=e.modelValue.slice(),H=Te.value.findIndex(O=>Ee(O,a));if(H>-1)o("remove",{index:H,value:p.splice(H,1)[0]});else{if(e.maxValues!==void 0&&p.length>=e.maxValues)return;const O=e.emitValue===!0?a:t;o("add",{index:p.length,value:O}),p.push(O)}o("update:modelValue",p)}function we(t){if(b.platform.is.desktop!==!0)return;const r=t>-1&&t<N.value?t:-1;g.value!==r&&(g.value=r)}function He(t=1,r){if(n.value===!0){let a=g.value;do a=Bt(a+t,-1,N.value-1);while(a!==-1&&a!==g.value&&pe.value(e.options[a])===!0);g.value!==a&&(we(a),te(a),r!==!0&&e.useInput===!0&&e.fillInput===!0&&Le(a>=0?J.value(e.options[a]):K,!0))}}function Nt(t,r){const a=p=>Ee(ae.value(p),t);return e.options.find(a)||r.find(a)||t}function We(t,r){const a=t!==void 0?t:r;return typeof a=="function"?a:p=>p!==null&&typeof p=="object"&&a in p?p[a]:p}function Xe(t){const r=ae.value(t);return Te.value.find(a=>Ee(a,r))!==void 0}function at(t){e.useInput===!0&&q.value!==null&&(t===void 0||q.value===t.target&&t.target.value===x.value)&&q.value.select()}function rt(t){hl(t,27)===!0&&n.value===!0&&(_e(t),he(),qe()),o("keyup",t)}function st(t){const{value:r}=t.target;if(t.keyCode!==void 0){rt(t);return}if(t.target.value="",w!==null&&(clearTimeout(w),w=null),k!==null&&(clearTimeout(k),k=null),qe(),typeof r=="string"&&r.length!==0){const a=r.toLocaleLowerCase(),p=O=>{const U=e.options.find($=>O.value($).toLocaleLowerCase()===a);return U===void 0?!1:(s.value.indexOf(U)===-1?ge(U):he(),!0)},H=O=>{p(ae)!==!0&&(p(J)===!0||O===!0||Ce(r,!0,()=>H(!0)))};H()}else u.clearValue(t)}function ct(t){o("keypress",t)}function dt(t){if(o("keydown",t),Sl(t)===!0)return;const r=S.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),a=t.shiftKey!==!0&&e.multiple!==!0&&(g.value>-1||r===!0);if(t.keyCode===27){fe(t);return}if(t.keyCode===9&&a===!1){xe();return}if(t.target===void 0||t.target.id!==u.targetUid.value||u.editable.value!==!0)return;if(t.keyCode===40&&u.innerLoading.value!==!0&&n.value===!1){Se(t),Ve();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&S.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Qe(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&o("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof S.value!="string"||S.value.length===0)&&(Se(t),g.value=-1,He(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&Y.value!==void 0&&(Se(t),g.value=Math.max(-1,Math.min(N.value,g.value+(t.keyCode===33?-1:1)*Y.value.view)),He(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(Se(t),He(t.keyCode===38?-1:1,e.multiple));const p=N.value;if((T===void 0||R<Date.now())&&(T=""),p>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||T.length!==0)){n.value!==!0&&Ve(t);const H=t.key.toLocaleLowerCase(),O=T.length===1&&T[0]===H;R=Date.now()+1500,O===!1&&(Se(t),T+=H);const U=new RegExp("^"+T.split("").map(Ze=>io.indexOf(Ze)>-1?"\\"+Ze:Ze).join(".*"),"i");let $=g.value;if(O===!0||$<0||U.test(J.value(e.options[$]))!==!0)do $=Bt($+1,-1,p-1);while($!==g.value&&(pe.value(e.options[$])===!0||U.test(J.value(e.options[$]))!==!0));g.value!==$&&se(()=>{we($),te($),$>=0&&e.useInput===!0&&e.fillInput===!0&&Le(J.value(e.options[$]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||T!=="")&&(t.keyCode!==9||a===!1))){if(t.keyCode!==9&&Se(t),g.value>-1&&g.value<p){ge(e.options[g.value]);return}if(r===!0){const H=(O,U)=>{if(U){if(Ft(U)!==!0)return}else U=e.newValueMode;if(ze("",e.multiple!==!0,!0),O==null)return;(U==="toggle"?ge:it)(O,U==="add-unique"),e.multiple!==!0&&(q.value!==null&&q.value.focus(),he())};if(e.onNewValue!==void 0?o("newValue",S.value,H):H(S.value),e.multiple!==!0)return}n.value===!0?xe():u.innerLoading.value!==!0&&Ve()}}function ft(){return z===!0?ne.value:M.value!==null&&M.value.contentEl!==null?M.value.contentEl:void 0}function Ut(){return ft()}function Qt(){return e.hideSelected===!0?[]:l["selected-item"]!==void 0?me.value.map(t=>l["selected-item"](t)).slice():l.selected!==void 0?[].concat(l.selected()):e.useChips===!0?me.value.map((t,r)=>v(Il,{key:"option-"+r,removable:u.editable.value===!0&&pe.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:ie.value,onRemove(){t.removeAtIndex(r)}},()=>v("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:J.value(t.opt)}))):[v("span",{[Me.value===!0?"innerHTML":"textContent"]:Z.value})]}function vt(){if(D.value===!0)return l["no-option"]!==void 0?l["no-option"]({inputValue:S.value}):void 0;const t=l.option!==void 0?l.option:a=>v(Ml,{key:a.index,...a.itemProps},()=>v(Rl,()=>v(Yl,()=>v("span",{[a.html===!0?"innerHTML":"textContent"]:a.label}))));let r=d("div",Oe.value.map(t));return l["before-options"]!==void 0&&(r=l["before-options"]().concat(r)),bl(l["after-options"],r)}function Wt(t,r){const a=r===!0?{...Ie.value,...u.splitAttrs.attributes.value}:void 0,p={ref:r===!0?q:void 0,key:"i_t",class:y.value,style:e.inputStyle,value:S.value!==void 0?S.value:"",type:"search",...a,id:r===!0?u.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...jt.value};return t!==!0&&z===!0&&(Array.isArray(p.class)===!0?p.class=[...p.class,"no-pointer-events"]:p.class+=" no-pointer-events"),v("input",p)}function mt(t){w!==null&&(clearTimeout(w),w=null),k!==null&&(clearTimeout(k),k=null),!(t&&t.target&&t.target.qComposing===!0)&&(Le(t.target.value||""),P=!0,K=S.value,u.focused.value!==!0&&(z!==!0||F.value===!0)&&u.focus(),e.onFilter!==void 0&&(w=setTimeout(()=>{w=null,Ce(S.value)},e.inputDebounce)))}function Le(t,r){S.value!==t&&(S.value=t,r===!0||e.inputDebounce===0||e.inputDebounce==="0"?o("inputValue",t):k=setTimeout(()=>{k=null,o("inputValue",t)},e.inputDebounce))}function ze(t,r,a){P=a!==!0,e.useInput===!0&&(Le(t,!0),(r===!0||a!==!0)&&(K=t),r!==!0&&Ce(t))}function Ce(t,r,a){if(e.onFilter===void 0||r!==!0&&u.focused.value!==!0)return;u.innerLoading.value===!0?o("filterAbort"):(u.innerLoading.value=!0,c.value=!0),t!==""&&e.multiple!==!0&&s.value.length!==0&&P!==!0&&t===J.value(s.value[0])&&(t="");const p=setTimeout(()=>{n.value===!0&&(n.value=!1)},10);E!==null&&clearTimeout(E),E=p,o("filter",t,(H,O)=>{(r===!0||u.focused.value===!0)&&E===p&&(clearTimeout(E),typeof H=="function"&&H(),c.value=!1,se(()=>{u.innerLoading.value=!1,u.editable.value===!0&&(r===!0?n.value===!0&&he():n.value===!0?Ye(!0):n.value=!0),typeof O=="function"&&se(()=>{O(i)}),typeof a=="function"&&se(()=>{a(i)})}))},()=>{u.focused.value===!0&&E===p&&(clearTimeout(E),u.innerLoading.value=!1,c.value=!1),n.value===!0&&(n.value=!1)})}function Xt(){return v(El,{ref:M,class:V.value,style:e.popupContentStyle,modelValue:n.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&D.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:I.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:Ue.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...ve.value,onScrollPassive:_,onBeforeShow:ht,onBeforeHide:Yt,onShow:Zt},vt)}function Yt(t){St(t),xe()}function Zt(){le()}function Jt(t){_e(t),q.value!==null&&q.value.focus(),F.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Gt(t){_e(t),se(()=>{F.value=!1})}function el(){const t=[v(Xl,{class:`col-auto ${u.fieldClass.value}`,...C.value,for:u.targetUid.value,dark:I.value,square:!0,loading:c.value,itemAligned:!1,filled:!0,stackLabel:S.value.length!==0,...u.splitAttrs.listeners.value,onFocus:Jt,onBlur:Gt},{...l,rawControl:()=>u.getControl(!0),before:void 0,after:void 0})];return n.value===!0&&t.push(v("div",{ref:ne,class:V.value+" scroll",style:e.popupContentStyle,...ve.value,onClick:fe,onScrollPassive:_},vt())),v(eo,{ref:oe,modelValue:m.value,position:e.useInput===!0?"top":void 0,transitionShow:W,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:ht,onBeforeHide:tl,onHide:ll,onShow:ol},()=>v("div",{class:"q-select__dialog"+(I.value===!0?" q-select__dialog--dark q-dark":"")+(F.value===!0?" q-select__dialog--focused":"")},t))}function tl(t){St(t),oe.value!==null&&oe.value.__updateRefocusTarget(u.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),u.focused.value=!1}function ll(t){he(),u.focused.value===!1&&o("blur",t),qe()}function ol(){const t=document.activeElement;(t===null||t.id!==u.targetUid.value)&&q.value!==null&&q.value!==t&&q.value.focus(),le()}function xe(){m.value!==!0&&(g.value=-1,n.value===!0&&(n.value=!1),u.focused.value===!1&&(E!==null&&(clearTimeout(E),E=null),u.innerLoading.value===!0&&(o("filterAbort"),u.innerLoading.value=!1,c.value=!1)))}function Ve(t){u.editable.value===!0&&(z===!0?(u.onControlFocusin(t),m.value=!0,se(()=>{u.focus()})):u.focus(),e.onFilter!==void 0?Ce(S.value):(D.value!==!0||l["no-option"]!==void 0)&&(n.value=!0))}function he(){m.value=!1,xe()}function qe(){e.useInput===!0&&ze(e.multiple!==!0&&e.fillInput===!0&&s.value.length!==0&&J.value(s.value[0])||"",!0,!0)}function Ye(t){let r=-1;if(t===!0){if(s.value.length!==0){const a=ae.value(s.value[0]);r=e.options.findIndex(p=>Ee(ae.value(p),a))}j(r)}we(r)}function ul(t,r){n.value===!0&&u.innerLoading.value===!1&&(j(-1,!0),se(()=>{n.value===!0&&u.innerLoading.value===!1&&(t>r?j():Ye(!0))}))}function gt(){m.value===!1&&M.value!==null&&M.value.updatePosition()}function ht(t){t!==void 0&&_e(t),o("popupShow",t),u.hasPopupOpen=!0,u.onControlFocusin(t)}function St(t){t!==void 0&&_e(t),o("popupHide",t),u.hasPopupOpen=!1,u.onControlFocusout(t)}function bt(){z=b.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?l["no-option"]!==void 0||e.onFilter!==void 0||D.value===!1:!0),W=b.platform.is.ios===!0&&z===!0&&e.useInput===!0?"fade":e.transitionShow}return Rt(bt),gl(gt),bt(),be(()=>{w!==null&&clearTimeout(w),k!==null&&clearTimeout(k)}),Object.assign(i,{showPopup:Ve,hidePopup:he,removeAtIndex:Qe,add:it,toggleOption:ge,getOptionIndex:()=>g.value,setOptionIndex:we,moveOptionSelection:He,filter:Ce,updateMenuPosition:gt,updateInputValue:ze,isOptionSelected:Xe,getEmittingOptionValue:nt,isOptionDisabled:(...t)=>pe.value.apply(null,t)===!0,getOptionValue:(...t)=>ae.value.apply(null,t),getOptionLabel:(...t)=>J.value.apply(null,t)}),Object.assign(u,{innerValue:s,fieldClass:f(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:L,targetRef:q,hasValue:h,showPopup:Ve,floatingLabel:f(()=>e.hideSelected!==!0&&h.value===!0||typeof S.value=="number"||S.value.length!==0||ot(e.displayValue)),getControlChild:()=>{if(u.editable.value!==!1&&(m.value===!0||D.value!==!0||l["no-option"]!==void 0))return z===!0?el():Xt();u.hasPopupOpen===!0&&(u.hasPopupOpen=!1)},controlEvents:{onFocusin(t){u.onControlFocusin(t)},onFocusout(t){u.onControlFocusout(t,()=>{qe(),xe()})},onClick(t){if(fe(t),z!==!0&&n.value===!0){xe(),q.value!==null&&q.value.focus();return}Ve(t)}},getControl:t=>{const r=Qt(),a=t===!0||m.value!==!0||z!==!0;if(e.useInput===!0)r.push(Wt(t,a));else if(u.editable.value===!0){const H=a===!0?Ie.value:void 0;r.push(v("input",{ref:a===!0?q:void 0,key:"d_t",class:"q-select__focus-target",id:a===!0?u.targetUid.value:void 0,value:Z.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...H,onKeydown:dt,onKeyup:rt,onKeypress:ct})),a===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&r.push(v("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:st}))}if(G.value!==void 0&&e.disable!==!0&&Te.value.length!==0){const H=Te.value.map(O=>v("option",{value:O,selected:!0}));r.push(v("select",{class:"hidden",name:G.value,multiple:e.multiple},H))}const p=e.useInput===!0||a!==!0?void 0:u.splitAttrs.attributes.value;return v("div",{class:"q-field__native row items-center",...p,...u.splitAttrs.listeners.value},r)},getInnerAppend:()=>e.loading!==!0&&c.value!==!0&&e.hideDropdownIcon!==!0?[v(tt,{class:"q-select__dropdown-icon"+(n.value===!0?" rotate-180":""),name:Be.value})]:null}),Dt(u)}});export{vo as Q,$l as a,Lt as b,jl as c,Pt as d,Dt as e,ot as f,Wl as g,ut as u};
